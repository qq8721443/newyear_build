(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{27:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(2),s=n.n(o),c=n(28),r=n.n(c),l=(n(43),n(5)),a=n(7),d=n.n(a),h=n(13),u=n(4);n(27);function p(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}function x(e,t){document.cookie=e+"="+t}function f(e){document.cookie=e+"=; expires=Thu, 01 Jan 1999 00:00:10 GMT;"}var j=n(29);var g=function(e){return!!/^([0-9a-zA-Z_.-]+)@([0-9a-zA-Z_-]+)(.[0-9a-zA-Z_-]+){1,2}$/.test(e)},b=function(){var e=document.getElementById("login_modal_left"),t=document.getElementById("login_modal_right");e.style.flex=1,t.style.flex=1.5,t.childNodes[4].style.borderWidth="2px",e.style.background="linear-gradient(to right, mediumaquamarine, rgb(120, 219, 186))",t.style.background="white",e.childNodes.forEach((function(e){e.style.width=0})),t.childNodes.forEach((function(e){e.style.width="300px"}))},m=function(){var e=s.a.useState(""),t=Object(u.a)(e,2),n=t[0],o=t[1],c=s.a.useState(""),r=Object(u.a)(c,2),l=r[0],a=r[1],d=s.a.useState(""),h=Object(u.a)(d,2),f=h[0],m=h[1],y=s.a.useState(!0),O=Object(u.a)(y,2),v=O[0],k=O[1];return Object(i.jsx)("div",{id:"login_modal",className:"hidden",children:Object(i.jsxs)("div",{id:"login_modal_content",children:[Object(i.jsxs)("div",{id:"login_modal_left",style:{overflow:"hidden"},children:[Object(i.jsx)("input",{className:"input_text",type:"text",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){return o(e.target.value)},style:{all:"unset",width:"0",height:"40px",paddingTop:"10px",borderBottom:"2px solid #f2f2f2"}}),Object(i.jsx)("input",{className:"input_text",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:function(e){return a(e.target.value)},style:{all:"unset",width:"0",height:"40px",paddingTop:"10px",borderBottom:"2px solid #f2f2f2"}}),Object(i.jsx)("input",{className:"input_text",type:"text",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){return m(e.target.value)},style:{all:"unset",width:"0",height:"40px",paddingTop:"10px",borderBottom:"2px solid #f2f2f2"}}),Object(i.jsx)("input",{type:"button",value:"\ud68c\uc6d0\uac00\uc785",style:{all:"unset",width:"0",height:"40px",backgroundColor:"mediumaquamarine",marginTop:"10px",borderRadius:"5px",textAlign:"center",color:"white",cursor:"pointer",fontWeight:"bold"},onClick:function(){g()?alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):fetch("http://qq8721443.pythonanywhere.com/main/signup/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken")},body:JSON.stringify({email:n,password:l,nickname:f,exist_check:!1,kakao_login:!1}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){if(e.success){alert("\ud68c\uc6d0\uac00\uc785 \uc644\ub8cc");var t,i=document.getElementById("login_modal_left"),o=Object(j.a)(i.getElementsByClassName("input_text"));try{for(o.s();!(t=o.n()).done;)t.value.value=""}catch(c){o.e(c)}finally{o.f()}var s=document.getElementById("login_modal_right").getElementsByClassName("input_text");s[0].value=n,s[1].value=l,b()}else alert("\uc911\ubcf5\ub41c \uc774\uba54\uc77c \uc788\uc74c")})).catch((function(e){return console.log(e)}))}}),Object(i.jsxs)("div",{className:"hidden",style:{position:"relative",bottom:"-50px",overflow:"hidden",color:"gray"},children:["\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694?",Object(i.jsx)("span",{onClick:function(){return b()},style:{color:"mediumaquamarine",fontWeight:"bold"},children:"\ub85c\uadf8\uc778"})]})]}),Object(i.jsxs)("div",{id:"login_modal_right",children:[Object(i.jsx)("input",{className:"input_text",type:"text",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",style:{all:"unset",width:"300px",height:"40px",paddingTop:"10px",borderBottom:"2px solid #f2f2f2"}}),Object(i.jsx)("input",{className:"input_text",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",style:{all:"unset",width:"300px",height:"40px",paddingTop:"10px",borderBottom:"2px solid #f2f2f2"}}),Object(i.jsx)("input",{type:"button",value:"\ub85c\uadf8\uc778",onClick:function(){return function(){var e=document.getElementById("login_modal_right").getElementsByClassName("input_text");g(e[0].value)?fetch("http://qq8721443.pythonanywhere.com/main/signin/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken")},body:JSON.stringify({email:e[0].value,password:e[1].value}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.success?(alert("\ub85c\uadf8\uc778 \uc131\uacf5"),document.getElementById("login_modal").classList.add("hidden"),localStorage.setItem("USER_INFO",JSON.stringify({email:e.email,nickname:e.nickname,is_login:!0,type:"normal"})),x("accesstoken",e.access_token),x("refreshtoken",e.refresh_token),k(!v),window.location.reload()):alert("\ub85c\uadf8\uc778 \uc2e4\ud328")})):alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}()},style:{all:"unset",width:"300px",height:"40px",backgroundColor:"mediumaquamarine",marginTop:"10px",borderRadius:"5px",textAlign:"center",color:"white",cursor:"pointer",fontWeight:"bold"}}),Object(i.jsx)("div",{style:{width:"300px",marginTop:"30px",color:"gray",overflow:"hidden"},children:"\uc18c\uc15c \ub85c\uadf8\uc778"}),Object(i.jsx)("input",{type:"button",value:"\uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778",style:{all:"unset",width:"300px",height:"40px",backgroundColor:"white",borderRadius:"5px",textAlign:"center",color:"mediumaquamarine",cursor:"pointer",fontWeight:"bold",border:"2px solid mediumaquamarine",boxSizing:"border-box"},onClick:function(){return window.location.href="https://kauth.kakao.com/oauth/authorize?client_id=20887ce0003dfa62635c435e177fee15&redirect_uri=https://todowith.codes/oauth&response_type=code"}}),Object(i.jsxs)("div",{style:{position:"relative",textAlign:"right",width:"300px",bottom:"-50px",right:"5px",color:"gray",overflow:"hidden"},children:["\uc544\uc774\ub514\uac00 \uc5c6\uc73c\uc2e0\uac00\uc694?",Object(i.jsx)("span",{style:{color:"mediumaquamarine",fontWeight:"bold",cursor:"pointer"},onClick:function(){return function(){var e=document.getElementById("login_modal_left"),t=document.getElementById("login_modal_right");e.style.flex=1.5,t.style.flex=1,t.style.background="linear-gradient(to left, mediumaquamarine, rgb(120, 219, 186))",e.style.background="white",t.childNodes[4].style.borderWidth="0px",t.childNodes.forEach((function(e){e.style.width=0})),e.childNodes.forEach((function(e){e.classList.remove("hidden"),e.style.width="300px"}))}()},children:"\ud68c\uc6d0\uac00\uc785"})]})]}),Object(i.jsx)("span",{style:{position:"absolute",top:"10px",right:"15px",fontSize:"22px",color:"gray",cursor:"pointer"},onClick:function(){return document.getElementById("login_modal").classList.add("hidden")},children:"\u2179"})]})})},y=function(e){return Object(i.jsx)("div",{id:"post_modal",className:"hidden",style:{position:"fixed",width:"100vw",height:"100vh",top:0,left:0,background:"rgba(240,240,240, 0.7)"},children:Object(i.jsxs)("div",{id:"post_modal_item",style:{position:"relative",width:"400px",height:"600px",background:"white",marginLeft:"50vw",marginTop:"50vh",left:"-200px",top:"-300px",borderRadius:"10px",boxSizing:"border-box",padding:"20px"},children:[Object(i.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"auto"},children:[Object(i.jsxs)("div",{style:{position:"relative",width:"100%",height:"150px"},children:[Object(i.jsx)("span",{children:"\uc804\uccb4 \ubaa9\ud45c"}),Object(i.jsx)("div",{children:"list"})]}),Object(i.jsxs)("div",{style:{position:"relative",width:"100%",height:"150px"},children:[Object(i.jsx)("span",{children:"\uc131\uacf5\ud55c \ubaa9\ud45c"}),Object(i.jsx)("div",{children:"list"})]}),Object(i.jsxs)("div",{style:{position:"relative",width:"100%",height:"150px"},children:[Object(i.jsx)("span",{children:"\uc9c4\ud589\uc911\uc778 \ubaa9\ud45c"}),Object(i.jsx)("div",{children:"list"})]}),Object(i.jsxs)("div",{style:{position:"relative",width:"100%",height:"150px"},children:[Object(i.jsx)("span",{children:"\ub098\uc758 \uc751\uc6d0"}),Object(i.jsx)("div",{children:"list"})]})]}),Object(i.jsx)("div",{id:"post_modal_close",style:{position:"absolute",top:0,right:0,width:"20px",height:"20px",background:"#f2f2f2",textAlign:"center",borderRadius:"10px",cursor:"pointer"},onClick:function(){document.getElementById("post_modal").classList.add("hidden")},children:"x"})]})})},O=function(){null===p("accesstoken")||"undefined"===p("accesstoken")?(f("accesstoken"),f("refreshtoken"),localStorage.setItem("USER_INFO",JSON.stringify({is_login:!1}))):fetch("http://qq8721443.pythonanywhere.com/main/expired_check/",{method:"GET",headers:{"access-token":p("accesstoken"),"refresh-token":p("refreshtoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log("\ud1a0\ud070 \ud655\uc778 \uacb0\uacfc :"+e.message),"access/refresh"===e.message?(x("accesstoken",e.access_token),x("refreshtoken",e.refresh_token)):"access"===e.message&&x("accesstoken",e.access_token)})).catch((function(e){return console.log(e)}))},v=function(e){var t=e.history,n=s.a.useState(""),o=Object(u.a)(n,2),c=o[0],r=o[1],l=s.a.useState(""),a=Object(u.a)(l,2),x=a[0],f=a[1],j=s.a.useState(""),g=Object(u.a)(j,2),b=g[0],v=g[1];null===p("accesstoken")&&localStorage.setItem("USER_INFO",JSON.stringify({is_login:!1})),s.a.useEffect((function(){(console.info("use effect \uc2dc\uc791"),null===p("csrftoken"))&&function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://qq8721443.pythonanywhere.com/main/get_csrf/",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,document.cookie="csrftoken=".concat(n.csrfToken);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();return null===p("accesstoken")&&(alert("access_token \uc5c6\uc74c"),null===p("refreshtoken")&&alert("refresh_token \uc5c6\uc74c")),function(){console.info("use effect \ub05d")}}),[]),s.a.useLayoutEffect((function(){function e(){return(e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://qq8721443.pythonanywhere.com/main/posts/",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:"there's no data"===(n=e.sent).res?r("none"):r(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.info("use layout effect \uc2dc\uc791"),console.log("token check \uc2e4\ud589"),O(),console.log("access_token : ".concat(p("accesstoken"))),null!==p("accesstoken")&&fetch("http://qq8721443.pythonanywhere.com/main/test/",{method:"GET",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(JSON.stringify(e)),f(e)})).catch((function(e){return console.log(e)})),function(){e.apply(this,arguments)}();return fetch("http://qq8721443.pythonanywhere.com/main/posts/hot/",{method:"GET",headers:{"X-CSRFToken":p("csrftoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){v(e.res),console.log(e.res)})),function(){console.info("use layout effect \ub05d")}}),[]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{id:"content",children:Object(i.jsxs)("div",{id:"con-section",children:[Object(i.jsxs)("div",{id:"banner",children:[Object(i.jsx)("span",{style:{fontSize:"20px",fontWeight:"bold"},children:JSON.parse(localStorage.getItem("USER_INFO")).is_login?JSON.parse(localStorage.getItem("USER_INFO")).nickname+" \ub2d8\uc758 \ubaa9\ud45c \ub2ec\uc131\ub960":"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}),Object(i.jsx)("div",{style:{position:"relative",width:"100%",height:"20px",backgroundColor:"#f2f2f2",borderRadius:"10px",marginTop:"10px"},children:Object(i.jsx)("div",{style:{position:"relative",width:"".concat(""===x?null:x.rate.success+"%"),height:"100%",backgroundColor:"".concat(null!==p("accesstoken")?"mediumaquamarine":"#f2f2f2"),borderRadius:"10px",textAlign:"center"},children:""===x?null:x.rate.success+"%"})}),Object(i.jsxs)("div",{style:{backgroundColor:"white",display:"flex",gap:"10px",marginTop:"10px"},children:[Object(i.jsx)("div",{style:{flex:1,backgroundColor:"#f2f2f2",height:"25vh",boxSizing:"border-box",borderRadius:"10px",padding:"10px"},children:null!==p("accesstoken")?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold",display:"block"},children:"\uc9c4\ud589\uc911\uc778 \ubaa9\ud45c"}),Object(i.jsx)("span",{style:{position:"relative"},children:""===x?"loading":x.nowposttitle}),Object(i.jsxs)("span",{children:[" | \ud83d\udc4f x ",""===x?null:x.claps," "]}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{children:"\ub0a8\uc740 \uc2dc\uac04 |"}),Object(i.jsxs)("span",{children:[" ",""===x?null:"".concat(x.remain.days,"\uc77c ").concat(x.remain.hours,"\uc2dc\uac04 ").concat(x.remain.minutes,"\ubd84")]}),Object(i.jsx)("div",{style:{position:"relative",width:"100%",height:"20px",backgroundColor:"#fff",borderRadius:"10px"},children:Object(i.jsx)("div",{style:{position:"relative",width:"".concat(""===x?null:x.rate.remain+"%"),height:"100%",backgroundColor:"skyblue",borderRadius:"10px",textAlign:"center"},children:""===x?null:"".concat(x.rate.remain,"%")})})]}):null}),Object(i.jsx)("div",{style:{flex:1,backgroundColor:"#f2f2f2",height:"25vh",boxSizing:"border-box",borderRadius:"10px",padding:"10px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:null!==p("accesstoken")?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{style:{flex:1,fontSize:"14px",textAlign:"center",borderRight:"1px solid gray"},children:[Object(i.jsx)("span",{children:"\uc804\uccb4 \ubaa9\ud45c"}),Object(i.jsxs)("span",{style:{display:"block",fontSize:"36px"},children:[""===x?null:x.count.all,"\uac1c"]})]}),Object(i.jsxs)("div",{style:{flex:1,fontSize:"14px",textAlign:"center",borderRight:"1px solid gray"},children:[Object(i.jsx)("span",{children:"\uc131\uacf5 \ubaa9\ud45c"}),Object(i.jsxs)("span",{style:{display:"block",fontSize:"36px",color:"green"},children:[""===x?null:x.count.success,"\uac1c"]})]}),Object(i.jsxs)("div",{style:{flex:1,fontSize:"14px",textAlign:"center",borderRight:"1px solid gray"},children:[Object(i.jsx)("span",{children:"\uc9c4\ud589 \ubaa9\ud45c"}),Object(i.jsxs)("span",{style:{display:"block",fontSize:"36px",color:"red"},children:[""===x?null:x.count.ongoing,"\uac1c"]})]}),Object(i.jsxs)("div",{style:{flex:1,fontSize:"14px",textAlign:"center"},children:[Object(i.jsx)("span",{children:"\ub098\uc758 \uc751\uc6d0"}),Object(i.jsxs)("span",{style:{display:"block",fontSize:"36px",color:"orange"},children:[""===x?null:x.count.my_clap,"\uac1c"]})]}),Object(i.jsx)("div",{style:{position:"absolute",right:"5px",bottom:"5px",cursor:"pointer"},onClick:function(){document.getElementById("post_modal").classList.remove("hidden")},children:"\uc790\uc138\ud788 \ubcf4\uae30"})]}):null})]}),null!==p("accesstoken")?null:Object(i.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[Object(i.jsx)("div",{id:"user_info_blind",style:{width:"100%",height:"100%",background:"white",opacity:.7}}),Object(i.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontWeight:"bold"},children:["\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",Object(i.jsx)("div",{onClick:function(){return document.getElementById("login_modal").classList.remove("hidden")},style:{width:"100px",height:"40px",background:"mediumaquamarine",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",cursor:"pointer"},children:"\ub85c\uadf8\uc778"})]})]})]}),Object(i.jsxs)("div",{id:"thumb",children:[Object(i.jsxs)("div",{className:"thumb-item1",children:[Object(i.jsx)("p",{className:"thumb-title",children:"\uc778\uae30\uc788\ub294 \ubaa9\ud45c"}),Object(i.jsx)("div",{id:"hope-container",children:""===b||"none"===b?"loading":b.map((function(e,n){return Object(i.jsxs)("div",{onClick:function(){return t.push("/posts/".concat(e.post_id))},className:"post-list",children:[Object(i.jsxs)("span",{className:"post-list-title",children:[Object(i.jsx)("p",{className:"emp",children:e.title}),"|",e.author]}),Object(i.jsx)("span",{className:"post-list-content",children:e.content.length>40?e.content.slice(0,40).replace(" ","")+"...":e.content.replace(/\n/g,"")})]},n)}))})]}),Object(i.jsxs)("div",{className:"thumb-item2",children:[Object(i.jsx)("p",{className:"thumb-title",children:"\ucd5c\uc2e0 \uae00"}),Object(i.jsx)("p",{className:"more-btn",onClick:function(){return t.push("/posts")},children:"+\ub354\ubcf4\uae30"}),""===c||"none"===c?"loading":c.map((function(e,n){return Object(i.jsxs)("div",{onClick:function(){return t.push("/posts/".concat(e.post_id))},className:"post-list",children:[Object(i.jsxs)("span",{className:"post-list-title",children:[Object(i.jsx)("p",{className:"emp",children:e.title}),"|",e.author]}),Object(i.jsx)("span",{className:"post-list-content",children:e.content.length>40?e.content.slice(0,40).replace(" ","")+"...":e.content.replace(/\n/g,"")})]},n)}))]})]})]})}),Object(i.jsx)("div",{id:"footer",children:"footer"}),Object(i.jsx)(m,{}),Object(i.jsx)(y,{})]})},k=n(30),_=n.n(k),w=function(e){var t=e.location,n=e.history,s=_.a.parse(t.search);return console.log(s),Object(o.useEffect)((function(){fetch("http://qq8721443.pythonanywhere.com/main/oauth/",{method:"POST",headers:{"X-CSRFToken":"".concat(p("csrftoken"))},body:JSON.stringify({code:s.code}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(JSON.stringify(e)),fetch("http://qq8721443.pythonanywhere.com/main/user_info/",{method:"POST",headers:{"X-CSRFToken":"".concat(p("csrftoken"))},body:JSON.stringify({access_token:e.res.access_token}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){alert(JSON.stringify(e)),console.log(JSON.stringify(e)),console.log(e.id),fetch("http://qq8721443.pythonanywhere.com/main/signup/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken")},body:JSON.stringify({exist_check:!0,kakao_user_id:e.id}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.already?(x("accesstoken",e.access_token),x("refreshtoken",e.refresh_token),localStorage.setItem("USER_INFO",JSON.stringify({nickname:e.nickname,email:e.email,is_login:!0,type:"kakao"})),n.push("/")):n.push({pathname:"/register",state:{kakao_user_id:e.id}})}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})),Object(i.jsx)("div",{children:"oauth"})},S=function(e){var t=e.history;return localStorage.setItem("USER_INFO",JSON.stringify({is_login:!1})),f("accesstoken"),f("refreshtoken"),t.push("/"),Object(i.jsx)("div",{children:"log out..."})},C=(n(46),function(e){var t=e.history,n=s.a.useState(!0),o=Object(u.a)(n,2),c=o[0],r=o[1],l=s.a.useState(!1),a=Object(u.a)(l,2),x=a[0],f=a[1],j=s.a.useState(),g=Object(u.a)(j,2),b=g[0],y=g[1],O=s.a.useState(!1),v=Object(u.a)(O,2),k=v[0],_=v[1],w=s.a.useState(1),S=Object(u.a)(w,2),C=S[0],N=S[1];function T(){return(T=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://qq8721443.pythonanywhere.com/main/posts/",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:"there's no data"===(n=e.sent).res?r(!1):(y(n),r(!1),f(!0));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){var e=function(){var e=document.documentElement.scrollHeight;document.documentElement.scrollTop+document.documentElement.clientHeight>=e&&!1===k&&(_(!0),fetch("http://qq8721443.pythonanywhere.com/main/posts/extra/".concat(C+1,"/"),{method:"GET",headers:{"X-CSRFToken":p("csrftoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){if("there's no extra data"!==e.message){console.log(e);var t=b.concat(e);y(t),N(C+1),console.log(b),_(!1)}else document.getElementsByClassName("scroll_status")[0].innerText="\ub354 \uc774\uc0c1 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})))};return c?function(){T.apply(this,arguments)}():(window.addEventListener("scroll",e),console.log("\uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \uc0dd\uc131")),function(){window.removeEventListener("scroll",e),console.log("\uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \uc0ad\uc81c")}}),[c,k,C,b]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:"content",children:Object(i.jsx)("div",{id:"con-section",children:Object(i.jsxs)("div",{id:"thumb",style:{flexDirection:"column",minHeight:"500px"},children:[Object(i.jsxs)("div",{style:{all:"unset",width:"100%",backgroundColor:"#f2f2f2"},children:[Object(i.jsx)("p",{style:{all:"unset",width:"100%",backgroundColor:"#f2f2f2",fontSize:22},children:"\uc804\uccb4\uae00 \ubcf4\uae30"}),Object(i.jsx)("br",{}),"\ub2e4\uc591\ud55c \uae00\uc744 \ub9c8\uc74c\uaecf \ub458\ub7ec\ubcf4\uc138\uc694!"]}),Object(i.jsx)("div",{id:"post_list",children:c?"loading":x?b.map((function(e,n){return Object(i.jsxs)("div",{onClick:function(){return t.push("/posts/".concat(e.post_id))},className:"post_list_item",children:[Object(i.jsx)("div",{children:e.title}),Object(i.jsx)("div",{style:{fontSize:"14px"},children:e.content.length>120?e.content.slice(0,120)+"...":e.content}),Object(i.jsxs)("div",{style:{position:"absolute",width:"100%",height:"30px",padding:15,paddingTop:0,left:0,bottom:0,boxSizing:"border-box",display:"flex",justifyContent:"space-between"},children:[Object(i.jsxs)("span",{style:{height:"20px"},children:[Object(i.jsx)("span",{style:{display:"inline-block",width:"20px",height:"20px",borderRadius:"10px",background:"#f2f2f2",top:0}}),Object(i.jsx)("span",{style:{display:"inline-block",height:"20px",position:"absolute",marginLeft:"10px",minWidth:"150px"},children:e.author})]}),Object(i.jsx)("span",{style:{fontSize:"14px"},children:e.created_dt.split("T")[0]})]})]},e.post_id)})):"nothing"}),Object(i.jsx)("div",{className:"scroll_status",children:"\uc2a4\ud06c\ub864\ud574\uc11c \ub85c\ub529\ud558\uae30"})]})})}),!0===JSON.parse(localStorage.getItem("USER_INFO")).is_login?Object(i.jsx)("div",{onClick:function(){return t.push("/create")},style:{position:"fixed",bottom:"10px",right:"10px",width:"100px",height:"100px",borderRadius:"50px",backgroundColor:"#6CB319",display:"table",textAlign:"center",cursor:"pointer"},children:Object(i.jsx)("p",{style:{display:"table-cell",verticalAlign:"middle"},children:"\uae00\uc4f0\uae30"})}):null,Object(i.jsx)(m,{})]})}),N=n(11),T=n(12),R=n(22),q=n(34),E=n(15);function I(){var e=Object(N.a)(["\n        position:relative;\n        width:100px;\n        height:50px;\n        background:mediumaquamarine;\n        border-radius:5px;\n        float:right;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        color:white;\n        font-size:18px;\n        cursor:pointer;\n"]);return I=function(){return e},e}function z(){var e=Object(N.a)(["\n        position:relative;\n        height:100px;\n        width:100%;\n        background:white;\n        border:1px solid #dddddd;\n        resize:none;\n        outline:none;\n        font-family:serif;\n        box-sizing:border-box;\n"]);return z=function(){return e},e}function B(){var e=Object(N.a)(["\n        position:fixed;\n        top:30vh;\n        left:10vw;\n        width:100px;\n        height:100px;\n        background:white;\n        border-radius:50px;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        cursor:pointer;\n    "]);return B=function(){return e},e}var F=T.a.div(B()),J=T.a.textarea(z()),L=T.a.div(I()),A=function(e){var t=e.history,n=e.match,o=s.a.useState(""),c=Object(u.a)(o,2),r=c[0],l=c[1],a=s.a.useState(""),d=Object(u.a)(a,2),h=d[0],x=d[1],f=s.a.useState(""),j=Object(u.a)(f,2),g=j[0],b=j[1],y=s.a.useState(!0),O=Object(u.a)(y,2),v=O[0],k=O[1],_=s.a.useState(!0),w=Object(u.a)(_,2),S=w[0],C=w[1],N=s.a.useState(!1),T=Object(u.a)(N,2),I=T[0],z=T[1],B=s.a.useState(!1),A=Object(u.a)(B,2),X=A[0],W=A[1],P=s.a.useState(""),U=Object(u.a)(P,2),H=U[0],D=U[1],G=function(e){var t=e.text;return Object(i.jsx)(L,{onClick:function(){console.log("post comment \uc2dc\uc791"),x(""),""===document.getElementById("comment_input").childNodes[0].value?alert("\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"):fetch("http://qq8721443.pythonanywhere.com/main/comments/".concat(n.params.post_id,"/"),{method:"POST",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")},body:JSON.stringify({content:r,author:JSON.parse(localStorage.getItem("USER_INFO")).nickname}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){l(""),console.log(e),console.log("post comment \uc885\ub8cc"),C(!S)})),k(!v),document.getElementById("comment_input").childNodes[0].value=""},children:t})};s.a.useEffect((function(){console.log("useEffect \uc2e4\ud589"),console.log("comment"),fetch("http://qq8721443.pythonanywhere.com/main/comments/".concat(n.params.post_id,"/"),{credentials:"include",headers:{"access-token":p("accesstoken")}}).then((function(e){return e.json()})).then((function(e){x(e),console.log(e),console.log("comment \ub05d")}))}),[v,n.params.post_id,S]),s.a.useLayoutEffect((function(){fetch("http://qq8721443.pythonanywhere.com/main/posts/".concat(n.params.post_id,"/"),{credentials:"include",headers:{"access-token":p("accesstoken")}}).then((function(e){return e.json()})).then((function(e){b(e),console.log(e),console.log(e.res[0].content),W(!1)})),fetch("http://qq8721443.pythonanywhere.com/main/user_check/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")},body:JSON.stringify({post_id:n.params.post_id,access_token:p("accesstoken")}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){"Signature has expired"===e.error&&alert("Signature has expired"),e.is_author?D(!0):D(!1)})),z(!1)}),[X,n.params.post_id,I]);var Z=function(){return Object(i.jsxs)("div",{style:{position:"absolute",top:0,right:0},children:[Object(i.jsx)(q.a,{title:"\uc218\uc815\ud558\uae30",style:{cursor:"pointer",marginRight:5},size:25,onClick:function(){return t.push({pathname:"/modify",state:{test:g.res[0]}})}}),Object(i.jsx)(E.c,{title:"\uc0ad\uc81c\ud558\uae30",style:{cursor:"pointer",marginRight:5},size:25,onClick:function(){window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&fetch("http://qq8721443.pythonanywhere.com/main/posts/".concat(n.params.post_id,"/"),{method:"DELETE",headers:{"X-CSRFToken":p("csrftoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){alert(JSON.stringify(e)),t.push("/")})).catch((function(e){return console.log(e)}))}}),Object(i.jsx)(E.a,{title:"\uc131\uacf5",style:{cursor:"pointer",marginRight:5},size:25,onClick:function(){fetch("http://qq8721443.pythonanywhere.com/main/change_success/".concat(n.params.post_id,"/"),{method:"PATCH",headers:{"X-CSRFToken":p("csrftoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){alert(JSON.stringify(e))})).catch((function(e){return console.log(e)}))}}),Object(i.jsx)(E.b,{title:"\uc2e4\ud328",style:{cursor:"pointer"},size:25,onClick:function(){fetch("http://qq8721443.pythonanywhere.com/main/change_fail/".concat(n.params.post_id,"/"),{method:"PATCH",headers:{"X-CSRFToken":p("csrftoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){alert(JSON.stringify(e))})).catch((function(e){return console.log(e)}))}})]})};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:"content",children:Object(i.jsxs)("div",{id:"post",style:{backgroundColor:"#fff",position:"relative",width:"800px",padding:"20px",boxSizing:"border-box"},children:[Object(i.jsx)(F,{onClick:function(){fetch("http://qq8721443.pythonanywhere.com/main/like_post/".concat(n.params.post_id,"/"),{method:"GET",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(e.message)})).catch((function(e){return console.log(e)})),z(!I)},children:Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(i.jsx)("div",{children:""===g?null:g.is_liked?Object(i.jsx)(R.a,{size:48,color:"gray"}):Object(i.jsx)(R.b,{size:48,color:"gray"})}),Object(i.jsx)("div",{style:{color:"#808080"},children:""===g?null:g.res[0].claps_count})]})}),Object(i.jsxs)("div",{id:"post_title",style:{position:"relative",fontWeight:"bold",fontSize:"44px",marginTop:"10px",color:"gray",marginLeft:"10px",boxSizing:"border-box"},children:[""===g?"loading":g.res[0].title,Object(i.jsxs)("div",{id:"post_info",style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px",paddingBottom:"10px",borderBottom:"2px solid #f2f2f2"},children:[Object(i.jsx)("div",{style:{width:"50px",height:"50px",background:"gray",borderRadius:"25px",display:"inline-block"}}),Object(i.jsxs)("div",{style:{display:"inline-block",marginLeft:"5px"},children:[Object(i.jsx)("div",{style:{fontSize:"18px",fontWeight:"normal"},children:""===g?"loading":g.res[0].author}),Object(i.jsx)("div",{style:{fontSize:"18px",fontWeight:"normal"},children:""===g?"loading":g.res[0].created_dt.split("T")[0]})]})]}),H?Object(i.jsx)(Z,{}):null]}),Object(i.jsxs)("div",{id:"post_content",style:{padding:"10px",marginTop:"10px",width:"100%",textAlign:"start",minHeight:"300px",boxSizing:"border-box"},children:[Object(i.jsx)("div",{style:{fontSize:25,fontWeight:"bold"},children:""===g?"loading":g.res[0].goal}),Object(i.jsx)("br",{}),""===g?"loading":g.res[0].content.split("\n").map((function(e,t){return Object(i.jsxs)("span",{children:[e,Object(i.jsx)("br",{})]},t)}))]}),Object(i.jsxs)("div",{id:"post_comment",style:{position:"relative",width:"800px",paddingLeft:0,boxSizing:"border-box"},children:[Object(i.jsxs)("div",{style:{position:"relative",top:"-10px",padding:"10px"},children:[""===h?"loading":void 0===h.res?"0":h.res.length,"\uac1c\uc758 \ub313\uae00"]}),Object(i.jsx)("div",{id:"comment_input",style:{position:"relative",marginRight:"40px",minHeight:"170px",alignItems:"center",padding:"10px",textAlign:"right"},children:JSON.parse(localStorage.getItem("USER_INFO")).is_login?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(J,{onChange:function(e){return l(e.target.value)},placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(i.jsx)(G,{text:"\uc791\uc131\ud558\uae30"})]}):Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(J,{onChange:function(e){return l(e.target.value)},placeholder:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",disabled:!0})})}),Object(i.jsx)("div",{id:"comment_list",test:v.toString(),style:{backgroundColor:"white",minHeight:"100px",marginRight:"40px",boxSizing:"border-box",paddingLeft:"10px"},children:""===h?"loading":void 0===h.res?"\ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":h.res.map((function(e){return Object(i.jsxs)("div",{className:"comment_item",children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(i.jsx)("span",{style:{display:"inline-block",width:"50px",height:"50px",background:"gray",borderRadius:"30px",marginRight:"10px"}}),Object(i.jsx)("span",{children:e.author}),e.author_email===h.request_email?Object(i.jsx)("div",{onClick:function(){return window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?(t=e.id,void fetch("http://qq8721443.pythonanywhere.com/main/comments/delete/".concat(t,"/"),{method:"delete",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")}}).then((function(e){return e.json()})).then((function(e){alert(e.message),k(!v)}))):null;var t},style:{width:"80px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",right:10,border:"1px solid #dddddd",borderRadius:"5px",boxSizing:"border-box",cursor:"pointer"},children:"\uc0ad\uc81c"}):null]}),Object(i.jsx)("div",{style:{margin:"10px",boxSizing:"border-box"},children:e.content}),Object(i.jsx)("div",{style:{position:"absolute",bottom:10,right:10,color:"gray"},children:e.created_dt.split("T")[0]})]},e.id)}))})]})]})}),Object(i.jsx)(m,{})]})},X=n(37),W=(n(51),function(e){var t=e.history,n=s.a.useState(""),o=Object(u.a)(n,2),c=o[0],r=o[1],l=s.a.useState(""),a=Object(u.a)(l,2),x=a[0],f=a[1],j=s.a.useState(""),g=Object(u.a)(j,2),b=g[0],m=g[1],y=s.a.useState(),O=Object(u.a)(y,2),v=O[0],k=O[1],_=s.a.useState(),w=Object(u.a)(_,2),S=w[0],C=w[1],N=function(){return""!==c&&""!==x};function T(){return(T=Object(h.a)(d.a.mark((function e(){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://qq8721443.pythonanywhere.com/main/posts/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")},body:JSON.stringify({title:c,content:x,object:b,date_difference:v}),credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:i=e.sent,console.log(b),console.log(S),console.log(i),t.push("/posts/".concat(i.res[i.res.length-1].post_id));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsx)("div",{children:Object(i.jsx)("div",{id:"content",style:{justifyContent:"center"},children:Object(i.jsxs)("div",{id:"create_post",style:{backgroundColor:"#fff",position:"relative",width:"800px",textAlign:"center"},children:[Object(i.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)},placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",style:{all:"unset",position:"relative",width:"90%",height:"100px",borderBottom:"1px solid #f2f2f2",fontSize:"30px",textAlign:"start"}}),Object(i.jsx)("input",{type:"text",onChange:function(e){return m(e.target.value)},placeholder:"\ubaa9\ud45c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",style:{all:"unset",position:"relative",width:"90%",textAlign:"left"}}),Object(i.jsx)("textarea",{onChange:function(e){return f(e.target.value)},placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",style:{all:"unset",position:"relative",width:"90%",height:"400px",marginTop:"20px",textAlign:"start"}}),Object(i.jsx)(X.a,{onChange:function(e,t){alert(e),function(e){var t=new Date,n=e.getTime()+864e5-t.getTime();console.log("now : ".concat(t,"/").concat(t.getTime(),"\nchosen : ").concat(e.getTime()+864e5,"\ndifference : ").concat(n)),n>864e5?(k(n),C(e)):alert("\uae30\uac04\uc774 \ub108\ubb34 \uc9e7\uc2b5\ub2c8\ub2e4.")}(e)}}),Object(i.jsx)("div",{id:"submit_area",style:{position:"relative",width:"100%",height:"50px",backgroundColor:"white"},children:Object(i.jsx)("input",{type:"button",value:"\uc800\uc7a5\ud558\uae30",onClick:function(){!0===N()?(!function(){T.apply(this,arguments)}(),console.log(N())):(console.log(N()),alert("\ub0b4\uc6a9\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694"))}})})]})})})}),P=function(e){var t=e.location,n=e.history,o=s.a.useState(""),c=Object(u.a)(o,2),r=c[0],l=c[1],a=s.a.useState(""),d=Object(u.a)(a,2),h=d[0],f=d[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:"header",style:{textAlign:"center"},children:"\uacc4\uc815 \uc124\uc815 \ubc0f \uc11c\ube44\uc2a4 \uc57d\uad00 \ub3d9\uc758"}),Object(i.jsx)("div",{id:"content",children:Object(i.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center"},children:Object(i.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"500px",height:"600px",backgroundColor:"white"},children:[Object(i.jsx)("input",{type:"text",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",onChange:function(e){return l(e.target.value)},style:{all:"unset",width:"200px",height:"40px",borderBottom:"2px solid #f2f2f2"}}),Object(i.jsx)("input",{type:"text",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",onChange:function(e){return f(e.target.value)},style:{all:"unset",width:"200px",height:"40px",borderBottom:"2px solid #f2f2f2"}}),Object(i.jsx)("input",{type:"button",value:"\ud68c\uc6d0\uac00\uc785 \uc644\ub8cc",onClick:function(){return console.log(t.state.kakao_user_id),void fetch("http://qq8721443.pythonanywhere.com/main/signup/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken")},body:JSON.stringify({kakao_login:!0,exist_check:!1,email:r,nickname:h,kakao_user_id:t.state.kakao_user_id}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){!0===e.success?(alert(r+h+t.state.kakao_user_id),x("accesstoken",e.access_token),x("refreshtoken",e.refresh_token),localStorage.setItem("USER_INFO",JSON.stringify({nickname:e.nickname,email:e.email,is_login:!0})),n.push("/")):alert("\uc774\uba54\uc77c\uc774 \uc911\ubcf5\ub429\ub2c8\ub2e4.")}))}})]})})})]})},U=n(35);function H(){var e=Object(N.a)(["\n    height:15vh;\n    background-color: #f2f2f2;\n    margin-bottom: 10px;\n    display:flex;\n    align-items:center;\n    justify-content:space-around;\n"]);return H=function(){return e},e}var D=T.a.div(H()),G=function(e){var t=e.history;return Object(i.jsxs)(D,{children:[Object(i.jsx)("div",{id:"logo",onClick:function(){return t.push("/")},style:{cursor:"pointer"},children:"LOGO"}),Object(i.jsx)("div",{id:"userinfo",children:!0===JSON.parse(localStorage.getItem("USER_INFO")).is_login?Object(i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[Object(i.jsx)("span",{style:{display:"inline-block",width:30,height:30,borderRadius:15,marginRight:10,background:"#f2f2f2"}}),JSON.parse(localStorage.getItem("USER_INFO")).nickname]}),Object(i.jsx)("span",{style:{position:"absolute",bottom:0},children:Object(i.jsx)(U.a,{})}),Object(i.jsxs)("ul",{id:"menu",style:{position:"absolute",top:60,margin:0,padding:0,zIndex:30,width:"150px"},children:[Object(i.jsx)("li",{className:"menu_item",style:{display:"flex",alignItems:"center",listStyle:"none",paddingLeft:5,width:"150px",height:"30px",background:"#fff",borderTopLeftRadius:10,borderTopRightRadius:10},onClick:function(){return t.push("/create")},children:"\uae00\uc4f0\uae30"}),Object(i.jsx)("li",{className:"menu_item",style:{display:"flex",alignItems:"center",listStyle:"none",paddingLeft:5,width:"150px",height:"30px",background:"#fff"},onClick:function(){return t.push("/user_info")},children:"\ub0b4\uc815\ubcf4"}),Object(i.jsx)("li",{className:"menu_item",style:{display:"flex",alignItems:"center",listStyle:"none",paddingLeft:5,width:"150px",height:"30px",background:"#fff",borderBottomLeftRadius:10,borderBottomRightRadius:10},onClick:function(){return window.location.href="https://kauth.kakao.com/oauth/logout?client_id=20887ce0003dfa62635c435e177fee15&logout_redirect_uri=http://todowith.codes/logout"},children:"\ub85c\uadf8\uc544\uc6c3"})]})]}):Object(i.jsx)("div",{id:"login-btn",onClick:function(){return document.getElementById("login_modal").classList.remove("hidden")},children:"\ub85c\uadf8\uc778"})})]})},Z=n(36);function M(){var e=Object(N.a)(["\n    width:100px;\n    height:40px;\n    background:",";\n    border:",";\n    color:",";\n    border-radius:5px;\n    box-sizing:border-box;\n    cursor:pointer;\n    margin-left:10px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n"]);return M=function(){return e},e}var $=T.a.div(M(),(function(e){return"main"===e.type?"mediumaquamarine":"white"}),(function(e){return"main"===e.type?null:"1px solid mediumaquamarine"}),(function(e){return"main"===e.type?"white":"mediumaquamarine"})),K=function(e){var t=s.a.useState(e.nickname),n=Object(u.a)(t,2),o=n[0],c=n[1],r=s.a.useState(e.description),l=Object(u.a)(r,2),a=l[0],d=l[1];return Object(i.jsxs)("div",{className:"container hidden",children:[Object(i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)"}}),Object(i.jsxs)("div",{style:{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"500px",height:"300px",background:"white",top:"50vh",left:"50vw",boxSizing:"border-box",marginLeft:"-250px",marginTop:"-150px",borderRadius:"5px",padding:"10px"},children:[Object(i.jsx)("input",{style:{all:"unset",borderBottom:"1px solid #dddddd",outline:"none",width:"250px",height:"30px",marginBottom:"10px",fontSize:"25"},onChange:function(e){c(e.target.value),console.log(o)},value:o,type:"text"}),Object(i.jsx)("input",{style:{all:"unset",borderBottom:"1px solid #dddddd",outline:"none",width:"250px",height:"30px",marginBottom:"10px",fontSize:"25"},onChange:function(e){return d(e.target.value)},value:a,type:"text"}),Object(i.jsx)(Z.a,{style:{position:"absolute",top:10,right:10,cursor:"pointer"},size:25,onClick:function(){return document.getElementsByClassName("container")[0].classList.add("hidden")}}),Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"absolute",right:20,bottom:20},children:[Object(i.jsx)($,{type:"sub",onClick:function(){return document.getElementsByClassName("container")[0].classList.add("hidden")},children:"\ucde8\uc18c"}),Object(i.jsx)($,{type:"main",onClick:function(){fetch("http://qq8721443.pythonanywhere.com/main/change_user/",{method:"patch",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")},body:JSON.stringify({nickname:o,description:a}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(e),window.location.reload()}))},children:"\uc801\uc6a9"})]})]})]})};function Q(){var e=Object(N.a)(["\n    flex:1;\n    text-align:center;\n    height:100%;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n\n    &:hover{\n        background:#f2f2f2;\n    }\n    background: ",";\n"]);return Q=function(){return e},e}var V=T.a.div(Q(),(function(e){return e.num===e.now?"#f2f2f2":"white"})),Y=function(e){var t=e.history,n=s.a.useState(0),o=Object(u.a)(n,2),c=o[0],r=o[1],l=s.a.useState(null),a=Object(u.a)(l,2),d=a[0],h=a[1],x=s.a.useState(!1),f=Object(u.a)(x,2),j=f[0],g=f[1];return s.a.useEffect((function(){fetch("http://qq8721443.pythonanywhere.com/main/call_user_info/",{method:"GET",headers:{"X-CSRFToken":p("csrftoken"),"access-token":p("accesstoken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(e),h(e),g(!1)})).catch((function(e){return console.log(e)}))}),[j]),Object(i.jsxs)("div",{style:{position:"relative",minHeight:"500px"},children:[Object(i.jsx)("div",{id:"content",style:{boxSizing:"border-box"},children:Object(i.jsxs)("div",{className:"problem",style:{backgroundColor:"#fff",position:"relative",width:"800px",minHeight:"800px",padding:"20px",boxSizing:"border-box"},children:[Object(i.jsxs)("div",{style:{width:"100%",height:"200px",display:"flex"},children:[Object(i.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(i.jsx)("div",{style:{width:"150px",height:"150px",borderRadius:"100px",background:"gray"}})}),Object(i.jsxs)("div",{style:{flex:2,display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{style:{fontSize:"24px",fontWeight:"bold"},children:null===d?"loading":d.info.nickname}),Object(i.jsx)("span",{style:{marginLeft:"10px"},children:null===d?"loading":d.info.email})]}),Object(i.jsx)("div",{style:{marginTop:"10px",boxSizing:"border-box"},children:null===d?"loading":d.info.description})]})]}),Object(i.jsxs)("div",{className:"inside",style:{position:"relative"},children:[Object(i.jsxs)("div",{style:{display:"flex",width:"100%",height:"50px",alignItems:"center",justifyContent:"center",borderBottom:"1px solid gray"},children:[Object(i.jsx)(V,{num:0,now:c,onClick:function(){return r(0)},children:"\uc791\uc131\ud55c \uae00"}),Object(i.jsx)(V,{num:1,now:c,onClick:function(){return r(1)},children:"\uc751\uc6d0\ud55c \uae00"}),Object(i.jsx)(V,{num:2,now:c,onClick:function(){return r(2)},children:"\ub313\uae00\ub2e8 \uae00"})]}),Object(i.jsx)("div",{style:{position:"relative",width:"100%",minHeight:"500px",background:"#f2f2f2",marginTop:"20px"},children:0===c?null===d?"loading":d.posts.write_post.map((function(e,n){return Object(i.jsxs)("div",{className:"post_list_item",onClick:function(){return t.push("/posts/".concat(e.post_id))},children:[Object(i.jsx)("div",{children:e.title}),Object(i.jsx)("div",{children:e.content})]},n)})):1===c?null===d?"loading":d.posts.clap_post.map((function(e,n){return Object(i.jsxs)("div",{className:"post_list_item",onClick:function(){return t.push("/posts/".concat(e.post_id))},children:[Object(i.jsx)("div",{children:e.title}),Object(i.jsx)("div",{children:e.content})]},n)})):null===d?"loading":d.posts.reply_post.map((function(e,n){return Object(i.jsxs)("div",{className:"post_list_item",onClick:function(){return t.push("/posts/".concat(e[0].post_id))},children:[Object(i.jsx)("div",{children:e[0].title}),Object(i.jsx)("div",{children:e[0].content})]},n)}))})]}),Object(i.jsx)("div",{style:{position:"absolute",top:20,right:20},children:Object(i.jsx)(E.d,{size:22,color:"gray",style:{cursor:"pointer"},onClick:function(){document.getElementsByClassName("hidden")[0].classList.remove("hidden")}})})]})}),null===d?null:Object(i.jsx)(K,{nickname:d.info.nickname,email:d.info.email,description:d.info.description})]})},ee=function(e){var t=e.history,n=e.location;console.log(n.state.test.title);var o=s.a.useState(n.state.test.title),c=Object(u.a)(o,2),r=c[0],l=c[1],a=s.a.useState(n.state.test.content),x=Object(u.a)(a,2),f=x[0],j=x[1],g=function(){return""!==r&&""!==f};function b(){return(b=Object(h.a)(d.a.mark((function e(){var i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://qq8721443.pythonanywhere.com/main/posts/".concat(n.state.test.post_id,"/"),{method:"PATCH",headers:{"X-CSRFToken":p("csrftoken")},body:JSON.stringify({title:r,content:f}),credentials:"include"});case 2:return i=e.sent,e.next=5,i.json();case 5:o=e.sent,console.log(o),t.push("/posts/".concat(n.state.test.post_id));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){})),Object(i.jsx)("div",{children:Object(i.jsx)("div",{id:"content",style:{justifyContent:"center"},children:Object(i.jsxs)("div",{id:"modify",style:{backgroundColor:"#fff",position:"relative",width:"800px",textAlign:"center"},children:[Object(i.jsx)("input",{type:"text",value:r,onChange:function(e){return l(e.target.value)},placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",style:{all:"unset",position:"relative",width:"90%",height:"100px",borderBottom:"1px solid #f2f2f2",fontSize:"30px",textAlign:"start"}}),Object(i.jsx)("textarea",{value:f,onChange:function(e){return j(e.target.value)},placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",style:{all:"unset",position:"relative",width:"90%",height:"400px",marginTop:"20px",textAlign:"start"}}),Object(i.jsx)("div",{id:"submit_area",style:{position:"relative",width:"100%",height:"50px",backgroundColor:"white"},children:Object(i.jsx)("input",{type:"button",value:"\uc800\uc7a5\ud558\uae30",onClick:function(){!0===g()?(!function(){b.apply(this,arguments)}(),console.log(g())):(console.log(g()),alert("\ub0b4\uc6a9\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694"))}})})]})})})};var te=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l.a,{path:"/",component:G}),Object(i.jsx)(l.a,{path:"/",exact:!0,component:v}),Object(i.jsx)(l.a,{path:"/oauth",component:w}),Object(i.jsx)(l.a,{path:"/logout",exact:!0,component:S}),Object(i.jsx)(l.a,{path:"/posts",exact:!0,component:C}),Object(i.jsx)(l.a,{path:"/posts/:post_id",exact:!0,component:A}),Object(i.jsx)(l.a,{path:"/create",exact:!0,component:W}),Object(i.jsx)(l.a,{path:"/register",exact:!0,component:P}),Object(i.jsx)(l.a,{path:"/user_info",exact:!0,component:Y}),Object(i.jsx)(l.a,{path:"/modify",exact:!0,component:ee})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),s(e),c(e)}))},ie=n(20);r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(ie.a,{children:Object(i.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[58,1,2]]]);
//# sourceMappingURL=main.5b940cd2.chunk.js.map